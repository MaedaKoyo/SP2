<!DOCTYPE html>
<html lang="en">
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="../css/main.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SP2</title>
</head>
<body>
    <h1>リアルタイムSP2</h1>
    <p id="text_test">あいうえお</p>
    <p id="area_0"></p>
    <p id="area_1"></p>
    <p id="area_2"></p>
</body>
<script>
    //定期的に実行
    window.onload = function(){
        setInterval("TextLoad()", 1000);
    }



    function TextLoad(){
        var area_arr;
        $.ajax({
            url: "../num.txt",
            type: "get",
            success : function(data) {
                console.log(data)
                area_arr = data.split(',')
                console.log(area_arr)

                document.getElementById('area_0').innerText = area_arr[0]
                document.getElementById('area_1').innerText = area_arr[1]
                document.getElementById('area_2').innerText = area_arr[2]
            },
            error:function(data) {
                alert("Loading error");
            }
        })
    }


    //行追加
    //$("ul").append("<li>"+json[1].type+"</li>")
    //テキスト書き換え
    //document.getElementById('text_test').innerText = num


    // function　JsonLoad(){
    //     $.ajax({
    //         type: 'GET',
    //         url: '../file.json',
    //         dataType: 'json'
    //     })
    //     .then(
    //         // 取得成功時
    //         function (json) {
    //         console.log(json[1].type) //商品名001
    //         console.log(json[1].price) //100
    //         document.getElementById('text_test').innerText = json[1].type
    //         },
    //         function () {
    //         // エラー発生時
    //         alert('エラー時に表示されるテキスト');
    //         }
    //     );
    // };
</script>
</html>